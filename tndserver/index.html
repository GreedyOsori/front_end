<!DOCTYPE html>
<html>
    <body>
        <input type="button" id="hw" value="Hello world" />
        <input type="text" id="send_message" />
        <div id="messages" style="height:200px;width:500px;background:black;color:white;overflow-y:auto;"></div>
        <script type="text/javascript">
            var hw = document.getElementById('hw');
            var messageContainer = document.getElementById('messages');
            var sendText = document.getElementById('send_message');
            var message = "";
            if ("WebSocket" in window) {
                    messageContainer.innerHTML = "WebSocket is supported by your Browser!";
                    var ws = new WebSocket("ws://localhost:8888/websocket");
                    ws.onmessage = function (evt) {
                        var received_msg = evt.data;
                        message += ">> " + received_msg + "<br>";
                        messageContainer.innerHTML = message;
                    };
            }
            else {
                    messageContainer.innerHTML = "WebSocket NOT supported by your Browser!";
            }
            hw.addEventListener('click', function(){
                if ("WebSocket" in window) {
                    ws.send( sendText.value );
                    ws.onclose = function() {
                        message = "";
                        messageContainer.innerHTML = "Connection is closed...";
                    };
                }
            })
        </script>
    </body>
</html>